<!DOCTYPE html>
<html lang="zh-cn"><meta charset="utf-8"><meta name="generator" content="Hugo 0.62.2" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>Golang&nbsp;&ndash;&nbsp;HeQing&#39;s Blog</title><link rel="stylesheet" href="/myblog/css/core.min.0fd0248e8ca66c409930a84a422f95c79fe473ea867f1077a26ff821e5982062fc8d983edbd47ec0a95b4757f8e87fc4.css" integrity="sha384-D9AkjoymbECZMKhKQi&#43;Vx5/kc&#43;qGfxB3om/4IeWYIGL8jZg&#43;29R&#43;wKlbR1f46H/E"><body>
    <div class="base-body"><section id="header" class="site header max-body-width">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/myblog/"><span class="site name">HeQing&#39;s Blog</span></a></span>
        <span class="header right-side"><div class="nav wrap"><div class="nav"><a class="nav item" href="/myblog/categories/">Categories</a><a class="nav item" href="/myblog/tags/">Tags</a><a class="nav item" href="/myblog/about/">About</a></div></div></span></div></section><div id="content" class="max-body-width"><section class="article header"><h1>Golang</h1></section><ul class="note list"><li class="item"><a class="note" href="/myblog/post/etcd-go-distributed-lock/">
            <p class="note title">Etcd client V3 分布式锁实现方式</p><p class="note date">Jan 13, 2020</p><p class="note content">原理 客户端以统一前缀（比如/mylock）创建全局唯一Key（client 1 -&gt; /mylock/client-1-uuid, client 2 -&gt; /mylock/client-2-uuid ）。 为该Key绑定租约(lease)，并设定TTL，<span>&mldr;</span></p></a><p class="note labels"><a class="note category" href="/myblog/categories/%E5%85%A5%E9%97%A8/"><span class="hashtag">#</span>入门</a><a class="note tag" href="/myblog/tags/etcd/"><span class="hashtag">#</span>etcd</a><a class="note tag" href="/myblog/tags/golang/"><span class="hashtag">#</span>Golang</a><a class="note tag" href="/myblog/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/"><span class="hashtag">#</span>分布式锁</a></p></li><li class="item"><a class="note" href="/myblog/post/golang-sync-pattern/">
            <p class="note title">Golang 两种同步变量的实现方式</p><p class="note date">Jan 09, 2020</p><p class="note content">使用 sync.RWMutex 同步数据读写 type syncData struct { sync.RWMutex val int } func (data *syncData) getValue() int { data.RLock() defer data.RUnlock() return data.val } func (data *syncData) setValue(v int) { data.Lock() defer data.Unlock() data.val = v } 使用 channel 同步数据读写 type chData struct { getCh chan int setCh chan int val int } func newChData() *chData { d :=<span>&mldr;</span></p></a><p class="note labels"><a class="note category" href="/myblog/categories/%E5%85%A5%E9%97%A8/"><span class="hashtag">#</span>入门</a><a class="note tag" href="/myblog/tags/golang/"><span class="hashtag">#</span>Golang</a><a class="note tag" href="/myblog/tags/mutex/"><span class="hashtag">#</span>mutex</a><a class="note tag" href="/myblog/tags/channel/"><span class="hashtag">#</span>channel</a></p></li><li class="item"><a class="note" href="/myblog/post/grpc-go-python/">
            <p class="note title">gRPC + Golang + python 初窥门径</p><p class="note date">Jan 08, 2020</p><p class="note content">环境准备 配置 gRPC for Golang 安装 grpc go get -u google.golang.org/grpc 安装 protoc-gen-go go get -u github.com/golang/protobuf/protoc-gen-go 配置 gRPC for python 安装 grpcio python -m pip install grpcio 安装 grpcio-tools python -m pip install grpcio-tools 编辑 protocol buffer 协议 syntax = &#34;proto3&#34;; package myhello; // my test service service MyTest { // my test foo rpc MyFoo (MyRequest) returns<span>&mldr;</span></p></a><p class="note labels"><a class="note category" href="/myblog/categories/%E5%85%A5%E9%97%A8/"><span class="hashtag">#</span>入门</a><a class="note tag" href="/myblog/tags/grpc/"><span class="hashtag">#</span>gRPC</a><a class="note tag" href="/myblog/tags/golang/"><span class="hashtag">#</span>Golang</a><a class="note tag" href="/myblog/tags/python/"><span class="hashtag">#</span>Python</a><a class="note tag" href="/myblog/tags/protocol-buffer/"><span class="hashtag">#</span>Protocol Buffer</a></p></li></ul></div><section id="footer" class="footer max-body-width"><div class="footer-wrap">
    <p class="copyright">HeQing's Blog</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section></div>
</body>

</html>